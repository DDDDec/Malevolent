////////////////////////////////////////
// Include Base Game Scripts          //
////////////////////////////////////////
#include maps/mp/_utility;            //
#include common_scripts/utility;      //
#include maps/mp/zombies/_zm_utility; //
#include maps/mp/zombies/_zm;         //
#include maps/mp/zombies/_zm_score;   //
////////////////////////////////////////

/////////////////////////////////////////////////
// Include Account Scripts                     //
/////////////////////////////////////////////////
#include scripts/zm/Account/InitializeAccount; //
/////////////////////////////////////////////////

/////////////////////////////////////////////////
// Include Command Scripts                     //
/////////////////////////////////////////////////
#include scripts/zm/Chat/InitializeCommands;   //
/////////////////////////////////////////////////

//////////////////////////////////////
// Include Core Game Scripts        //
//////////////////////////////////////
#include scripts/zm/Core/CoreScore; //
//////////////////////////////////////

////////////////////////////////////////////////
// Include Event Scripts                      //
////////////////////////////////////////////////
#include scripts/zm/Event/EventServerStarted; //
////////////////////////////////////////////////

///////////////////////////////////////////////
// Include Utility Scripts                   //
///////////////////////////////////////////////
#include scripts/zm/Utility/UtilityDatabase; //
#include scripts/zm/Utility/Utility;         //
///////////////////////////////////////////////

main()
{
    replaceFunc(maps\mp\zombies\_zm_score::player_add_points, ::core_score);
}

init() {
    setDvar("g_password", "");
    setDvar("password", "");

    level thread initialize_player();
    level thread initialize_database();
    level thread initialize_commands();
}

initialize_player() {
    for(;;)
    {
        level waittill("connected", player);

        player thread initialize_account();

        self enableInvulnerability();
        self.ignoreme = 1;
    }
}